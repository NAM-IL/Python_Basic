## [ 2025-04-07(Mon.) ](https://github.com/NAM-IL/Python_Basic/blob/main/%EC%88%98%EC%97%85%EB%82%B4%EC%9A%A9/04%EC%9B%94/2025-04-07.md) : íŒŒì´ì¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ í™œìš© 2ì¼ì°¨

- [pandas documentation](https://pandas.pydata.org/docs/index.html)
    - [API reference](https://pandas.pydata.org/docs/reference/index.html)
- [The Python Tutorial (v.3.13) ](https://docs.python.org/3.13/tutorial/index.html)
- [íŒŒì´ì¬ ììŠµì„œ (v.3.13) ](https://docs.python.org/ko/3.13/tutorial/index.html)
- yeonsookim-wt/[lgtm](https://github.com/yeonsookim-wt/lgtm)
- [ì í”„ íˆ¬ íŒŒì´ì¬](https://wikidocs.net/book/1)
- [â­ íŒŒì´ì¬ ë…í•™í•˜ê¸° ì¢‹ì€ ìœ„í‚¤ë…ìŠ¤ ëª¨ìŒì§‘](https://hello-sec.tistory.com/167)
- [â­ Jupyter notebook ë‹¨ì¶•í‚¤](https://velog.io/@one_step/Jupyter-notebook-%EB%8B%A8%EC%B6%95%ED%82%A4)
- [[Jupyter ì£¼í”¼í„°] ì£¼ìš” ë‹¨ì¶•í‚¤ ëª¨ìŒ](https://planharry.tistory.com/22)
- [â­ ì£¼í”¼í„° ë…¸íŠ¸ë¶(Jupyter Notebook) ì‚¬ìš©ë²• - ê¸°ë³¸ ì„¤ì¹˜/ì‹¤í–‰, ë‹¨ì¶•í‚¤, ë§¤ì§ ëª…ë ¹ì–´, Markdown, í…Œë§ˆìŠ¤í‚¨, nbextensions](https://m.blog.naver.com/towards-ai/222182455430)
- [ê¸°ì´ˆíƒ„íƒ„ íŒŒì´ì¬_ë°ì´í„° ì‹œê°í™”](https://wikidocs.net/book/9285)
    - [02ì¥ íŒë‹¤ìŠ¤ pandas](https://wikidocs.net/193858)
- [íŒŒì´ì¬ ë§ˆìŠ¤í„°í•˜ê¸° : Pandas](https://velog.io/@euisuk-chung/%ED%8C%8C%EC%9D%B4%EC%8D%AC-%EC%8B%9C%EA%B0%81%ED%99%94-%EB%A7%88%EC%8A%A4%ED%84%B0%ED%95%98%EA%B8%B0-Pandas)
- [íŒŒì´ì¬ìœ¼ë¡œ ë°°ìš°ëŠ” ì•Œê³ ë¦¬ì¦˜ íŠ¸ë ˆì´ë”© (ê°œì •íŒ-2ì‡„)](https://wikidocs.net/book/110)
    - [13. Pandasë¥¼ ì´ìš©í•œ ë°ì´í„° ë¶„ì„ ê¸°ì´ˆ (revision)](https://wikidocs.net/2873)
- [íŒŒì´ì¬ì„ ì´ìš©í•œ ë¹„íŠ¸ì½”ì¸ ìë™ë§¤ë§¤ (ê°œì •íŒ)](https://wikidocs.net/book/1665)
- [Git ì„¤ì¹˜ ë° í™˜ê²½ì„¤ì •(mac os)](https://velog.io/@wiseah/Git-%EC%84%A4%EC%B9%98-%EB%B0%8F-%ED%99%98%EA%B2%BD%EC%84%A4%EC%A0%95mac-os)
- [pandas apply í•¨ìˆ˜ì™€ lambda ì„¤ëª…](https://koreadatascientist.tistory.com/115)
- [03-01. ì¶• ê¸°ì¤€ (apply)](https://wikidocs.net/151872)
- [Jupyter Notebookì—ì„œ Magic Command ì‚¬ìš©í•˜ê¸°](https://velog.io/@log327/Jupyter-Notebook%EC%97%90%EC%84%9C-Magic-Command-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0)
- [01-IPython ë§¤ì§ì»¤ë§¨ë“œ](https://wikidocs.net/75005)

---

### ğŸ”¹ [íŒ¬ë”ìŠ¤_ëª…ë ¹ì–´_ê¿€íŒ.ipynb] #217 ë¶€í„° 
```
df_filtered = df[['name', 'age']]
-----
name	age
0	John	20
1	Jenny	30
2	Nate	30
3	Julia	40
4	Brian	45
5	Chris	25
```
```
#217
pandas docu ë‚´ê°€ì°¾ê³ ì í•˜ëŠ” ë©”ì„œë“œ ê²€ìƒ‰í•´ì„œ ì˜µì…˜ ì´í•´í•˜ê¸°
ë©”ì„œë“œë¥¼ ì´ìš©í•œ í•„í„°ë§
ìŠ¤í…Œí‹± ë©”ì„œë“œ
í‚¤ì›Œë“œì¸ì ë°©ì‹ìœ¼ë¡œ í•„í„°ë  ì»¬ëŸ¼ëª…ì„ ë¦¬ìŠ¤íŠ¸ë¡œ ì „ë‹¬
axis ì¢…ì¶•, íš¡ì¶•, ì—´, í–‰
axis = 0 í–‰ 0 or 'index'
axis = 1 ì—´ 1 or 'columns'
0 or 
```
- [DataFrame.filter(items=None, like=None, regex=None, axis=None)[source]](https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.filter.html#pandas.DataFrame.filter)

### ğŸ”¹ ì›í•˜ëŠ” ê¸€ìë¥¼ ê°€ì§„ ë¡œìš°ë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤.
```
# db sqlì—ì„œ
# ì—´ì„ ì´ë¦„ì— aê°€ ë“¤ì–´ê°„ ì»¬ëŸ¼ì„ í•„í„°í•´ì„œ ë°ì´í„°í”„ë ˆì„ìœ¼ë¡œ
# select columns containing 'a'
df.filter(like='a',axis=1)
---
	name	age
0	John	20
1	Jenny	30
2	Nate	30
3	Julia	40
4	Brian	45
5	Chris	25
```
- [[SQL] SELECTë¬¸ê³¼ LIKEì ˆ](https://velog.io/@mjkiim_0217/SQL-SELECT%EB%AC%B8%EA%B3%BC-LIKE%EC%A0%88)

### ğŸ”¹ ì •ê·œì‹ìœ¼ë¡œ í•„í„°ë„ ê°€ëŠ¥í•©ë‹ˆë‹¤. #220
```
ì •ê·œì‹
ì •ê·œì‹ì—ì„œ ë‚´ê°€ ì›í•˜ëŠ” ë¬¸ìì—´ì„ íŒ¨í„°ë§¤ì¹­ì„ í†µí•´ ê°€ì ¸ì˜¤ê¸°

íŒŒì´ì¬ì—ì„œ ì •ê·œì‹ ë‹¤ë£°ë•ŒëŠ” re
ì™„ì „ì¼ì¹˜ íŒ¨í„´ë§¤ì¹­
ìœ„ì¹˜ì¸ë±ìŠ¤ = "ì•ˆë…•í•˜ì„¸ìš”. í™ê¸¸ë™ë‹˜".find("ì•ˆë…•í•˜ì„¸ìš”)
"ì•ˆë…•í•˜ì„¸ìš” í™ê¸¸ë™ë‹˜".replace("ì•ˆë…•í•˜ì„¸ìš”", "hello")

ì •ê·œì‹ ë¬¸ë²• ê³µë¶€
sql LLM 
ì •ê·œì‹ LLM ì´ìš©

# bë¡œ ëë‚˜ëŠ” ë¬¸ì¥ë§Œ ê²€ìƒ‰
# select columns using regex
df.filter(regex='b$',axis=1)
---
job
0	student
1	developer
2	teacher
3	dentist
4	manager
5	intern
```
- [08-2 ì •ê·œ í‘œí˜„ì‹ ì‹œì‘í•˜ê¸°](https://wikidocs.net/4308)
- [YTHON ì •ê·œì‹ ë¬¸ë²• ë° ì˜ˆì œ ( ì „í™”ë²ˆí˜¸, ì´ë©”ì¼, ìˆ«ì ì¶œë ¥, ê³µë°± ì œê±°, URL ì¶œë ¥, ì£¼ë¯¼ ë²ˆí˜¸ íŒ¨í„´ ì°¾ê¸° )](https://urame.tistory.com/entry/PYTHON-%EC%A0%95%EA%B7%9C%EC%8B%9D-%EB%AC%B8%EB%B2%95-%EB%B0%8F-%EC%98%88%EC%A0%9C-%EC%A0%84%ED%99%94%EB%B2%88%ED%98%B8-%EC%9D%B4%EB%A9%94%EC%9D%BC-%EC%88%AB%EC%9E%90-%EC%B6%9C%EB%A0%A5-%EA%B3%B5%EB%B0%B1-%EC%A0%9C%EA%B1%B0-URL-%EC%B6%9C%EB%A0%A5-%EC%A3%BC%EB%AF%BC-%EB%B2%88%ED%98%B8-%ED%8C%A8%ED%84%B4-%EC%B0%BE%EA%B8%B0)
- [003 ì •ê·œí‘œí˜„ì‹ìœ¼ë¡œ ê°œì¸ì •ë³´ë¥¼ ë³´í˜¸í•˜ë ¤ë©´? â€• re](https://wikidocs.net/133294)
- [https://regexr.com/](https://regexr.com/)


### ğŸ”¹ ë¡œìš° ë“œë¡­í•˜ê¸°
### ğŸ”¹ ë¡œìš° ì¸ë±ìŠ¤ë¡œ ë¡œìš°ë¥¼ ë“œë¡­í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. #221
```
ë‚´ê°€ ì›í•˜ëŠ” ê²ƒë§Œ ë‚¨ê¸´ë‹¤.
ë“œë¡­ëœ ê²°ê³¼ëŠ” ë°ì´í„°í”„ë ˆì„ì— ì €ì¥ë˜ì§€ ì•ŠëŠ”ë‹¤.
ì›ë³¸ìœ ì§€ ì˜µì…˜ ì£¼ë©´ ì›ë³¸ ë°”ê¿ˆ

# ì¡´ì´ë‚˜ ë„¤ì´íŠ¸ê°€ ë“¤ì–´ìˆëŠ” í–‰ì„ ë“œë¡­ #223
# í–‰ ìì²´ê°€ ì‚¬ë¼ì§€ë‹ˆê¹Œ ì •ê·œì„±ì´ ìœ ì§€ë¨
df.drop(['John', 'Nate'])
---
	age	job
Jenny	30	developer

```

### ğŸ”¹ ë“œë¡­ëœ ê²°ê³¼ë¥¼ ë°”ë¡œ ë°ì´í„°í”„ë ˆì„ì— ì €ì¥í•˜ëŠ” ë°©ë²•
ğŸ”¹ inplace í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ë©´, ë”°ë¡œ ì €ì¥í•  í•„ìš”ì—†ì´, ë“œë¡­ëœ ê²°ê³¼ê°€ ë°ì´í„°í”„ë ˆì„ì— ë°˜ì˜ë©ë‹ˆë‹¤.
```
friend_dict_list = [{'age': 20, 'job': 'student'},
         {'age': 30, 'job': 'developer'},
         {'age': 30, 'job': 'teacher'}]
df = pd.DataFrame(friend_dict_list, index = ['John', 'Jenny', 'Nate'])
---
	age	job
John	20	student
Jenny	30	developer
Nate	30	teacher

df.drop(['John', 'Nate'], inplace = True)
---
	age	job
Jenny	30	developer

```
### ë¡œìš° ì¸ë±ìŠ¤ë¡œ ë“œë¡­í•˜ëŠ” ì˜ˆì œì…ë‹ˆë‹¤.
```
friend_dict_list = [{'name': 'Jone', 'age': 20, 'job': 'student'},
         {'name': 'Jenny', 'age': 30, 'job': 'developer'},
         {'name': 'Nate', 'age': 30, 'job': 'teacher'}]
df = pd.DataFrame(friend_dict_list)
---
	age	job
John	20	student
Jenny	30	developer
Nate	30	teacher

df = df.drop(df.index[[0,2]])
---
age	job	name
1	30	developer	Jenny
---
```

### ì»¬ëŸ¼ê°’ìœ¼ë¡œ ë¡œìš° ë“œë¡­í•˜ê¸°
```
ì»¬ëŸ¼ ageì— ë°ì´í„°ê°€ 30ì´ ì•„ë‹Œê²ƒë§Œ í•„í„°í•´ì„œ ë°ì´í„°í”„ë ˆì„í™” 
! ì•„ë‹ˆë‹¤.

friend_dict_list = [{'name': 'Jone', 'age': 20, 'job': 'student'},
         {'name': 'Jenny', 'age': 30, 'job': 'developer'},
         {'name': 'Nate', 'age': 30, 'job': 'teacher'}]
df = pd.DataFrame(friend_dict_list)
---
age	job	name
0	20	student	Jone
1	30	developer	Jenny
2	30	teacher	Nate

#235
df = df[df.age != 30]
---
	name	age	job
0	Jone	20	student
```

### ì»¬ëŸ¼ ë“œë¡­í•˜ê¸°
```
friend_dict_list = [{'name': 'Jone', 'age': 20, 'job': 'student'},
         {'name': 'Jenny', 'age': 30, 'job': 'developer'},
         {'name': 'Nate', 'age': 30, 'job': 'teacher'}]
df = pd.DataFrame(friend_dict_list)
---

age	job	name
0	20	student	Jone
1	30	developer	Jenny
2	30	teacher	Nate

df = df.drop('age', axis=1)
---

name	job
0	Jone	student
1	Jenny	developer
2	Nate	teacher
```

### ğŸ”¹ ì»¬ëŸ¼ ì¶”ê°€ ë˜ëŠ” ë³€ê²½í•˜ê¸° #240
```
íŠ¹ì„±ê³µí•™ - ì»¬ëŸ¼ì„ ë‹¤ë£¨ëŠ” ê²ƒ?
í”¼ì²˜ ì—”ì§€ë‹ˆì–´ë§
ëœ¬ë‹¤ í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ê°€...

friend_dict_list = [{'name': 'Jone', 'age': 15, 'job': 'student'},
         {'name': 'Jenny', 'age': 30, 'job': 'developer'},
         {'name': 'Nate', 'age': 30, 'job': 'teacher'}]

df = pd.DataFrame(friend_dict_list, columns = ['name', 'age', 'job'])
---
	name	age	job
0	Jone	15	student
1	Jenny	30	developer
2	Nate	30	teacher

ì•„ë˜ì™€ ê°™ì€ ë°©ë²•ìœ¼ë¡œ ìƒˆë¡œìš´ ì»¬ëŸ¼ì„ ê¸°ë³¸ê°’ê³¼ í•¨ê»˜ ì¶”ê°€í•˜ì‹¤ ìˆ˜ ìˆë‹¤.
df['salary'] = 0
```

### ğŸ”¹ ê¸°ì¡´ ì»¬ëŸ¼ê°’ì„ ê°€ì§€ê³  ìƒˆë¡œìš´ ì»¬ëŸ¼ì„ ìƒì„±í•˜ëŠ” ì˜ˆì œì…ë‹ˆë‹¤.
```
friend_dict_list = [{'name': 'Jone', 'age': 15, 'job': 'student'},
         {'name': 'Jenny', 'age': 30, 'job': 'developer'},
         {'name': 'Nate', 'age': 30, 'job': 'teacher'}]
df = pd.DataFrame(friend_dict_list, columns = ['name', 'age', 'job'])
---
	name	age	job
0	Jone	15	student
1	Jenny	30	developer
2	Nate	30	teacher

#ë„˜íŒŒì´ë¥¼ ì‚¬ìš©í•˜ì…”ì„œ, í•œì¤„ì— ìƒˆë¡œìš´ ì»¬ëŸ¼ê°’ì„ ìƒì„±í•˜ì‹¤ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.
import numpy as np

# ë„˜íŒŒì´ì•¼ ì¡°ê±´ ë°ì´í„°í”„ë ˆì„ Job ì»¬ëŸ¼ì´ í•™ìƒì´ ì•„ë‹ˆë©´ yes, í•™ìƒ‰ì´ë©´ no ë¡œ ì±„ì›Œë¼
                                ì°¸/ê±°ì§“
                                ì¡°ê±´ì‹            ì°¸ì¸ê²½ìš° ê±°ì§“ì¸ê²½ìš°              
df['salary'] = np.where(df['job'] != 'student' , 'yes', 'no')
---
	name	age	job	salary
0	Jone	15	student	no
1	Jenny	30	developer	yes
2	Nate	30	teacher	yes

# ë‚˜ì´ë¥¼ ì°¸ì¡°í•´ì„œ ì—°ë ¹ëŒ€ ì»¬ëŸ¼ ì¶”ê°€
import numpy as np
# df['salary'] = np.where(df['job'] != 'student' , 'yes',
df['ì—°ë ¹ëŒ€'] = np.where(df['age'] > 20 , 'ì„±ì¸', 'ì²­ì†Œë…„')
---
name	age	job	ì—°ë ¹ëŒ€
0	Jone	15	student	ì²­ì†Œë…„
1	Jenny	30	developer	ì„±ì¸
2	Nate	30	teacher	ì„±ì¸
```
### ğŸ”¹ Tip
```
ì§ë²• #ì„ ë„£ìœ¼ë©´ ì•ˆë¨
ì£¼ì„ì²˜ë¦¬ ë‹¨ì¶•í‚¤ ctrl + '/'

ìŠ¤í˜ì´ìŠ¤(4) ë¡œ í•˜ë©´ ì•ˆë¨
ë“¤ì—¬ì“°ê¸° í…ì„ ëˆŒëŸ¬ì„œ í•œë‹¤.

ì •ë ¬ì— ëŒ€í•œ ì´í•´
ë‚´ê°€ ì“°ê³  ìˆëŠ” ë¬¸ë²•ì´ ì–´ë””ì— ì†í•´ì„œ ì‘ë™í•˜ëŠ”
```

### ğŸ”¹ì•„ë˜ëŠ” ê¸°ì¡´ì— ìˆëŠ” ë‘ ì»¬ëŸ¼ê°’ì„ ë”í•´ì„œ ìƒˆë¡œìš´ ì»¬ëŸ¼ì„ ë§Œë“œëŠ” ì˜ˆì œì…ë‹ˆë‹¤.
```
friend_dict_list = [{'name': 'John', 'midterm': 95, 'final': 85},
         {'name': 'Jenny', 'midterm': 85, 'final': 80},
         {'name': 'Nate', 'midterm': 10, 'final': 30}]
df = pd.DataFrame(friend_dict_list, columns = ['name', 'midterm', 'final'])
---
name	midterm	final
0	John	95	85
1	Jenny	85	80
2	Nate	10	30


df['total'] = df['midterm'] + df['final']
---
name	midterm	final	total
0	John	95	85	180
1	Jenny	85	80	165
2	Nate	10	30	40

```


### ğŸ”¹ê¸°ì¡´ì˜ ì»¬ëŸ¼ì„ ì‚¬ìš©í•˜ì—¬ ìƒˆë¡œìš´ ì»¬ëŸ¼ì„ ë§Œë“œëŠ” ì˜ˆì œ #249
```
ëŒ€í‘œê°’
í‰ê·  mean  ì‚°ìˆ  ê¸°í•˜ ì¡°í™”
ì¤‘ì•™ê°’
ìµœë¹ˆê°’

df['average'] = df['total'] / 2
---
	name	midterm	final	total	average
0	John	95	85	180	90.0
1	Jenny	85	80	165	82.5
2	Nate	10	30	40	20.0
```
- [Averageì™€ Meanì˜ ì°¨ì´](https://computervision.tistory.com/20)

### ğŸ”¹ì•„ë˜ì™€ ê°™ì´, ë¦¬ìŠ¤íŠ¸ì— ì¡°ê±´ë³„ ê°’ì„ ë‹´ì•„ì„œ, ìƒˆë¡œìš´ ì»¬ëŸ¼ìœ¼ë¡œ ì¶”ê°€ì‹œí‚¬ ìˆ˜ ìˆë‹¤. #251
```
# ë¦¬ìŠ¤íŠ¸ ì»´ë¥´ë¦¬í—¨ì…˜

grades = []
# í•¨ìˆ˜í™” í•´ì„œ
# list(map())
def ë“±ê¸‰í™•ì¸í•¨ìˆ˜(í‰ê· ):


for row in df['average']:
    if row >= 90:
        grades.append('A')
    elif row >= 80:
        grades.append('B')
    elif row >= 70:
        grades.append('C')
    else:
        grades.append('F')
        
df['grade'] = grades

```


### apply í•¨ìˆ˜ ì‚¬ìš© ì˜ˆì œì…ë‹ˆë‹¤.  
### ğŸ”¹applyë¥¼ ì‚¬ìš©í•˜ì‹œë©´, ê¹”ë”í•˜ê²Œ ì»¬ëŸ¼ì˜ ê°’ì„ ë³€ê²½í•˜ëŠ” ì½”ë“œë¥¼ êµ¬í˜„í•˜ì‹¤ ìˆ˜ ìˆë‹¤. #253
```
def pass_or_fail(row):
    print(row)
    if row != "F":
        return 'Pass'
    else:
        return 'Fail'

df.grade = df.grade.apply(pass_or_fail)
---
A
B
F
```
- [pandas apply í•¨ìˆ˜ì™€ lambda ì„¤ëª…](https://koreadatascientist.tistory.com/115)
- [03-01. ì¶• ê¸°ì¤€ (apply)](https://wikidocs.net/151872)


### ğŸ”¹applyë¥¼ ì‚¬ìš©í•´ì„œ ì—°ì›”ì¼ì˜ ì •ë³´ì—ì„œ ì—°ë„ë§Œ ë¹¼ë³´ëŠ” ì˜ˆì œì…ë‹ˆë‹¤. #256
```
date_list = [{'yyyy-mm-dd': '2000-06-27'},
         {'yyyy-mm-dd': '2002-09-24'},
         {'yyyy-mm-dd': '2005-12-20'}]
df = pd.DataFrame(date_list, columns = ['yyyy-mm-dd'])
---
yyyy-mm-dd
0	2000-06-27
1	2002-09-24
2	2005-12-20
```
```
# íŒ¬ë”ìŠ¤_ëª…ë ¹ì–´_ê¿€íŒ.ipynb #257
# í•¨ìˆ˜ ë…„ë„ë§Œ ì¶”ì¶œí•˜ëŠ” í•¨ìˆ˜
#     íŠ¹ì • í–‰ì´ ë“¤ì–´ì˜¤ë©´ split
#     ë¬¸ìì—´ì„ ê¸°ì¤€ìœ¼ë¡œ ìª¼ê²Œì„œ ë¦¬ìŠ¤íŠ¸ë¡œ ë§Œë“¤ì–´ì¤€ë‹¤.
# 3ê°œì˜ ì•„ì´í…œë”” ë“¤ì–´ì—ˆëŠ” 0 1 2ë¦¬ìŠ¤íŠ¸ì—ì„œ 0ë²ˆì§¸ í•­ëª©ì„ ë¦¬í„´
# ì—°ë„ë§Œ ë¬¸ìì—´ë¡œ ë¦¬í„´

def extract_year(row):
    return row.split('-')[0]

df['year'] = df['yyyy-mm-dd'].apply(extract_year)
---
yyyy-mm-dd	year
0	2000-06-27	2000
1	2002-09-24	2002
2	2005-12-20	2005


def extract_month(row):
    return row.split('-')[1]
    
df['month'] = df['yyyy-mm-dd'].apply(extract_month)
---
	yyyy-mm-dd	year	month
0	2000-06-27	2000	06
1	2002-09-24	2002	09
2	2005-12-20	2005	12

df['year'] = df['yyyy-mm-dd'].apply(extract_year)
df['month'] = df['yyyy-mm-dd'].apply(extract_month)
df['day'] = df['yyyy-mm-dd'].apply(extract_day)

ğŸ”¹ applyë¥¼ ì‚¬ìš©í•´ì„œ ì—°ì›”ì¼ì˜ ì •ë³´ì—ì„œ ì—°ë„ë§Œ ë¹¼ë³´ëŠ” ì˜ˆì œì…ë‹ˆë‹¤. #256

date_list = [{'yyyy-mm-dd': '2000-06-27'},
         {'yyyy-mm-dd': '2002-09-24'},
         {'yyyy-mm-dd': '2005-12-20'}]
df = pd.DataFrame(date_list, columns = ['yyyy-mm-dd'])
df

def extract_YMD(row, idx):
    if idx  == 0:
        ret = row.split('-')[0]
    elif idx == 1:
        ret = row.split('-')[1]
    else:
        ret = row.split('-')[2]
    return ret
    
df['year'] = df['yyyy-mm-dd'].apply(extract_YMD, idx = 0)
df['month'] = df['yyyy-mm-dd'].apply(extract_YMD, idx = 1)
df['day'] = df['yyyy-mm-dd'].apply(extract_YMD, idx = 2)
df
------------------

	yyyy-mm-dd	year	month	day
0	2000-06-27	2000	06	27
1	2002-09-24	2002	09	24
2	2005-12-20	2005	12	20
```
- [python pandas: apply a function with arguments to a series](https://stackoverflow.com/questions/12182744/python-pandas-apply-a-function-with-arguments-to-a-series)


### apply í•¨ìˆ˜ì— íŒŒë¼ë¯¸í„° ì „ë‹¬í•˜ê¸°(apply: column ê°í–‰ì— ì ìš©)
### ğŸ”¹í‚¤ì›Œë“œ íŒŒë¼ë¯¸í„°ë¥¼ ì‚¬ìš©í•˜ì‹œë©´, applyê°€ ì ìš©ëœ í•¨ìˆ˜ì— íŒŒë¼ë¯¸í„°ë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤. #260

```
def extract_year(year, current_year):
    return current_year - int(year)


df['age'] = df['year'].apply(extract_year, current_year=2018)


def extract_year(year, current_year):
    from datetime import datetime
    now = datetime.now()
    now.year
    current_year = int(now.year)
    return current_year - int(year)

df['age'] = df['year'].apply(extract_year, current_year=2018)
---

yyyy-mm-dd	year	month	day	age
0	2000-06-27	2000	06	27	25
1	2002-09-24	2002	09	24	23
2	2005-12-20	2005	12	20	20
```

### apply í•¨ìˆ˜ì— í•œ ê°œ ì´ìƒì˜ íŒŒë¼ë¯¸í„° ì „ë‹¬í•˜ê¸° (apply: column ê°í–‰ì— ì ìš©)
### ğŸ”¹í‚¤ì›Œë“œ íŒŒë¼ë¯¸í„°ë¥¼ ì¶”ê°€í•´ì£¼ì‹œë©´, ì›í•˜ì‹œëŠ”ë§Œí¼ì˜ íŒŒë¼ë¯¸í„°ë¥¼ í•¨ìˆ˜ì— ì „ë‹¬ ê°€ëŠ¥í•©ë‹ˆë‹¤. #261
```
def get_introduce(age, prefix, suffix):
    return prefix + str(age) + suffix

df['introduce'] = df['age'].apply(get_introduce, prefix="I am ", suffix=" years old")
---
yyyy-mm-dd	year	age	introduce
0	2000-06-27	2000	18	I am 18 years old
1	2002-09-24	2002	16	I am 16 years old
2	2005-12-20	2005	13	I am 13 years old
```

### apply í•¨ìˆ˜ì— ì—¬ëŸ¬ê°œì˜ ì»¬ëŸ¼ì„ ë™ì‹œì— ì „ë‹¬í•˜ê¸°
### ğŸ”¹axis=1ì´ë¼ëŠ” í‚¤ì›Œë“œ íŒŒë¼ë¯¸í„°ë¥¼ apply í•¨ìˆ˜ì— ì „ë‹¬í•´ì£¼ë©´, ëª¨ë“  ì»¬ëŸ¼ì„ ì§€ì •ëœ í•¨ìˆ˜ì—ì„œ ì‚¬ìš© ê°€ëŠ¥ #264
```

```


### Map í•¨ìˆ˜ë¡œ ì»¬ëŸ¼ ì¶”ê°€ ë° ë³€ê²½í•˜ê¸°
### ğŸ”¹íŒŒë¼ë¯¸í„°ë¡œ í•¨ìˆ˜ë¥¼ ì „ë‹¬í•˜ë©´ apply í•¨ìˆ˜ì™€ ë™ì¼í•˜ê²Œ ì»¬ëŸ¼ê°’ì„ ì¶”ê°€ ë° ë³€ê²½í•  ìˆ˜ ìˆë‹¤. #265
```
íŒŒì´ì¬ ë‚´ì¥ê°ì²´ map
pandasì˜ map ë©”ì„œë“œ ì´ìš©í•œ ê²ƒ

def extract_year(row):
    return row.split('-')[0]

date_list = [{'yyyy-mm-dd': '2000-06-27'},
         {'yyyy-mm-dd': '2002-09-24'},
         {'yyyy-mm-dd': '2005-12-20'}]
df = pd.DataFrame(date_list, columns = ['yyyy-mm-dd'])
---
yyyy-mm-dd
0	2000-06-27
1	2002-09-24
2	2005-12-20

df['year'] = df['yyyy-mm-dd'].map(extract_year)
---
yyyy-mm-dd	year
0	2000-06-27	2000
1	2002-09-24	2002
2	2005-12-20	2005
```


### íŒŒë¼ë¯¸í„°ë¡œ ë”•ì…”ë„ˆë¦¬ë¥¼ ì „ë‹¬í•˜ë©´ ì»¬ëŸ¼ê°’ì„ ì›í•˜ëŠ” ê°’ìœ¼ë¡œ ì‰½ê²Œ ë³€ê²½ì´ ê°€ëŠ¥
### ğŸ”¹ê¸°ì¡´ì˜ ì»¬ëŸ¼ê°’ì€ ë”•ì…”ë„ˆë¦¬ì˜ keyë¡œ ì‚¬ìš©ë˜ê³ , í•´ë‹¹ë˜ëŠ” valueì˜ ê°’ìœ¼ë¡œ ì»¬ëŸ¼ê°’ì´ ë³€ê²½ë¨ #267
```
job_list = [{'age': 20, 'job': 'student'},
         {'age': 30, 'job': 'developer'},
         {'age': 30, 'job': 'teacher'}]
df = pd.DataFrame(job_list)
---
age	job
0	20	student
1	30	developer
2	30	teacher

df.job = df.job.map({"student":1,"developer":2,"teacher":3})
---
age	job
0	20	1
1	30	2
2	30	3
```


### Applymap
### ğŸ”¹ë°ì´í„°í”„ë ˆì„ ì „ì²´ì˜ ê°ê°ì˜ ê°’ì„ í•œë²ˆì— ë³€ê²½ì‹œí‚¤ì‹¤ ë•Œ ì‚¬ìš©í•˜ì‹œë©´ ì¢‹ìŠµë‹ˆë‹¤. #270
```
# python floatíƒ€ì…
x_y = [{'x': 5.5, 'y': -5.6},
         {'x': -5.2, 'y': 5.5},
         {'x': -1.6, 'y': -4.5}]
df = pd.DataFrame(x_y)

# pandasì˜ floatíƒ€ì…ìœ¼ë¡œ ë³€í™˜
---
x	y
0	5.5	-5.6
1	-5.2	5.5
2	-1.6	-4.5

df['x'].dtype
---
dtype('float64')

df = df.applymap(np.around)
---
x	y
0	6.0	-6.0
1	-5.0	6.0
2	-2.0	-4.0
```


### ğŸ”¹ë°ì´í„°í”„ë ˆì„ì— ë¡œìš° ì¶”ê°€í•˜ê¸°
```
# ê¸°ë³¸ì€ í–‰ë°©í–¥ìœ¼ë¡œ í•©ì¹˜ê¸°
# ì—´ë°©í–¥ìœ¼ë¡œ í•©ì¹˜ê¸°
friend_dict_list = [{'name': 'John', 'midterm': 95, 'final': 85},
         {'name': 'Jenny', 'midterm': 85, 'final': 80},
         {'name': 'Nate', 'midterm': 10, 'final': 30}]
df = pd.DataFrame(friend_dict_list, columns = ['name', 'midterm', 'final'])
---
name	midterm	final
0	John	95	85
1	Jenny	85	80
2	Nate	10	30


df2 = pd.DataFrame([['Ben', 50,50]], columns = ['name', 'midterm', 'final'])
df2.head()
---
	name	midterm	final
0	Ben	50	50


# df ê¸°ì¤€ìœ¼ë¡œ df2 ë°ì´í„°ë¥¼ ë¶™ì¸ë‹¤.(ê¸°ë³¸ì€ í•˜ë‹¨ìœ¼ë¡œ ë¶™ì¸ë‹¤.)
# ì¶•ìƒê° ê¸°ë³¸ê°’ì´ë‹ˆê¹Œ axis = 0 í–‰ì¶”ê°€
# ignore_index=true ëŠ” í•©ì³ì§„ í›„ ì¸ë±ìŠ¤ ë¦¬ì…‹ 
df.append(df2, ignore_index=True)

í•©ì³ì§„ í›„ì—ë„ í‘œì¤€í™”ëœ ë°ì´í„° í”„ë ˆì„ìœ¼ë¡œ ë§Œë“¤ê¸°

```
- [pandas.DataFrame.append](https://pandas.pydata.org/pandas-docs/version/1.3/reference/api/pandas.DataFrame.append.html)
- [[Python] ë°ì´í„°í”„ë ˆì„ ê²°í•© (.concat, .append)](https://ordo.tistory.com/51)


### Group by
### ğŸ”¹ë°ì´í„°ì—ì„œ ì •ë³´ë¥¼ ì·¨í•˜ê¸° ìœ„í•´ì„œ ê·¸ë£¹ë³„ë¡œ ë¬¶ëŠ” ë°©ë²• #275
```
# í•™ë¬¸ ì´ë¦„
#   ì² í•™ í•„ë¼ì„œí”¼
#   í•„ë¦¬ì˜¤ ì‚¬ë‘
#   ì†Œí”¼ì•„ ì§€í˜œ
#   ì² í•™ì ì§€í˜œë¥¼ ì‚¬ë‘í•˜ëŠ” ì‚¬ëŒ
student_list = [{'name': 'John', 'major': "Computer Science", 'sex': "male"},
                {'name': 'Nate', 'major': "Computer Science", 'sex': "male"},
                {'name': 'Abraham', 'major': "Physics", 'sex': "male"},
                {'name': 'Brian', 'major': "Psychology", 'sex': "male"},
                {'name': 'Janny', 'major': "Economics", 'sex': "female"},
                {'name': 'Yuna', 'major': "Economics", 'sex': "female"},
                {'name': 'Jeniffer', 'major': "Computer Science", 'sex': "female"},
                {'name': 'Edward', 'major': "Computer Science", 'sex': "male"},
                {'name': 'Zara', 'major': "Psychology", 'sex': "female"},
                {'name': 'Wendy', 'major': "Economics", 'sex': "female"},
                {'name': 'Sera', 'major': "Psychology", 'sex': "female"}
         ]
df = pd.DataFrame(student_list, columns = ['name', 'major', 'sex'])
----
	name	major	sex
0	John	Computer Science	male
1	Nate	Computer Science	male
2	Abraham	Physics	male
3	Brian	Psychology	male
4	Janny	Economics	female
5	Yuna	Economics	female
6	Jeniffer	Computer Science	female
7	Edward	Computer Science	male
8	Zara	Psychology	female

9	Wendy	Economics	female
10	Sera	Psychology	female

groupby_major = df.groupby('major')
groupby_major.groups
---
{'Computer Science': Int64Index([0, 1, 6, 7], dtype='int64'),
 'Economics': Int64Index([4, 5, 9], dtype='int64'),
 'Physics': Int64Index([2], dtype='int64'),
 'Psychology': Int64Index([3, 8, 10], dtype='int64')}
```
- [Pandas: How to append a dataframe to itself if .append has been deprecated? [duplicate]](https://stackoverflow.com/questions/77512736/pandas-how-to-append-a-dataframe-to-itself-if-append-has-been-deprecated)
  ```
   import pandas as pd
   df = pd.DataFrame({'col1' : [1,2,3]})
   df = pd.concat([df,df]).reset_index(drop = True)
   print(df)
   ---
        col1
    0     1
    1     2
    2     3
    3     1
    4     2
    5     3

- [Jupyter Notebookì—ì„œ Magic Command ì‚¬ìš©í•˜ê¸°](https://velog.io/@log327/Jupyter-Notebook%EC%97%90%EC%84%9C-Magic-Command-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0)
- [01-IPython ë§¤ì§ì»¤ë§¨ë“œ](https://wikidocs.net/75005)

